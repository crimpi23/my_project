{% extends "base/admin_base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Supplier Invoices</h2>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>Invoice #</th>
                    <th>Supplier</th>
                    <th>Created At</th>
                    <th>Status</th>
                    <th>Total Items</th>
                    <th>Processed</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for invoice in invoices %}
                <tr>
                    <td>{{ invoice.invoice_number }}</td>
                    <td>{{ invoice.supplier_name }}</td>
                    <td>{{ invoice.created_at.strftime('%Y-%m-%d') }}</td>
                    <td>
                        <span class="badge bg-{{ invoice.status|status_color }}">
                            {{ invoice.status }}
                        </span>
                    </td>
                    <td>{{ invoice.total_items }}</td>
                    <td>{{ invoice.processed_items }}/{{ invoice.total_items }}</td>
                    <td>
                        <a href="{{ url_for('view_supplier_invoice', token=token, invoice_id=invoice.id) }}" 
                           class="btn btn-sm btn-primary">View</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}